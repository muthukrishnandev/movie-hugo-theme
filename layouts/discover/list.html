{{ define "main" }}
<div class="page-container {{ .Type }}">
	<h1 class="page-heading {{ .Type }}">{{ .Title }}</h1>
	<div class="page-description {{ .Type }}">
      {{ .Content }}
    </div>
    <div class="page-content-wrapper {{ .Type }}">
        {{ $totalLimit := .Site.Params.Meta.DiscoverListCount }}
        {{ range $taxonomy_term, $taxonomy := .Site.Taxonomies }}
            {{ with $.Site.GetPage (printf "/%s" $taxonomy_term) }}
            	{{ if $taxonomy }}
	            	<h3><a class="dark-link" href="{{ .Permalink }}">{{ partial "tag-title.html" $taxonomy_term }}</a></h3>
    				<div class="post-list {{ .Type }}">
		                <ul>
                            {{ $count := 0 }}
                            {{ $isNeedLink := gt (len $taxonomy) $totalLimit }}
		                    {{ range $key, $value := $taxonomy }}
                                {{ $count = add $count 1 }}
                                {{ if le $count $totalLimit }}
		                          <li><a href="{{ $value.Page.Permalink }}">{{ $key }}</a></li>
                                {{ end}}
		                    {{ end }}
                        </ul>
                        {{ if $isNeedLink }}
                            <a class="ml-4 my-4" href="{{ .Permalink }}"> See All {{ $taxonomy_term }}</a>
                        {{ end }}
    				</div>
                {{ end }}
            {{ end }}
        {{ end }}
    </div>
</div>
{{ end }}
