<div class="titlemeta">
	{{ $metaParams := .Params.meta }}
	<div class="row">		
		<div class="col-md-4 col-xs-12 titlemeta-poster-container">
			{{ if not (isset $metaParams "poster") }}
				{{ errorf "poster param not found for %s" .File }}
			{{ end }}

			{{ partial "findposterlink.html" . }}
			{{ if .Scratch.Get "findposterlink_isfound" }}
				<img loading="lazy" class="titlemeta-poster" src="{{ .Scratch.Get "findposterlink_result" }}">
			{{ else }}
				{{ errorf .Scratch.Get "findposterlink_error" }}
			{{ end }}

		</div>
		<div class="col-md-8 col-xs-12 titlemeta-meta">
			<h2 class="titlemeta-title">{{ $metaParams.title }}</h2>
			<p class="titlemeta-tagline">{{ $metaParams.tagline }}</p>
			{{ partial "title-review-meta.html" . }}
		</div>
	</div>
	<div class="row">
		<div class="col-md-12 col-xs-12 titlemeta-crew">
			<h2>Cast &amp; Crew</h2>
			<div class="titlemeta-info-container">
				{{ $allTaxos := .Site.Params.Meta.CastCrewList }}
				{{ partial "taxo-list.html" (dict "context" . "arr" $allTaxos) }}
			</div>
		</div>
		<div class="col-md-12 col-xs-12 titlemeta-detail mb-2">
			<h2>Movie Detail</h2>
			<div class="titlemeta-info-container">
				<div style="text-indent: 5%;" class="mb-3">{{ $metaParams.storyline }}</div>
				{{ $allTaxos := .Site.Params.Meta.MovieDetailList }}
				{{ partial "taxo-list.html" (dict "context" . "arr" $allTaxos) }}
				<div class="titlemeta-info-row">
					<div class="titlemeta-info-label">Certificate:</div>
					<div class="titlemeta-info-data">{{ $metaParams.certificate }}</div>
				</div>
				<div class="titlemeta-info-row">
					<div class="titlemeta-info-label">Released On:</div>
					<div class="titlemeta-info-data">{{ $metaParams.released_on | dateFormat "02 January 2006" }}</div>
				</div>
				<div class="titlemeta-info-row">
					<div class="titlemeta-info-label">Running Time:</div>
					<div class="titlemeta-info-data">{{ $metaParams.running_time }} minutes</div>
				</div>

				{{ if eq .Type "tvshows"}}
					<div class="titlemeta-info-row">
						<div class="titlemeta-info-label">Series Run: </div>
						<div class="titlemeta-info-data">{{ $metaParams.series_start_year }} - {{ $metaParams.series_end_year }}</div>
					</div>
					<div class="titlemeta-info-row">
						<div class="titlemeta-info-label">Total Episodes:</div>
						<div class="titlemeta-info-data">{{ $metaParams.episodes_count }}</div>
					</div>
				{{ end }}
			</div>
		</div>

		<div class="col-md-12 col-xs-12 titlemeta-external">
			{{ if $metaParams.external_links }}
				<h2>External Links</h2>
				<div class="titlemeta-info-container">
					<div class="titlemeta-info-row">
						<div class="titlemeta-info-data">
							<ul>
							{{ if $metaParams.external_links.imdb }}
							<li><a target="_blank" href="{{ $metaParams.external_links.imdb }}">IMDb</a></li>
							{{ end }}

							{{ if $metaParams.external_links.rotten_tomatoes }}
							<li><a target="_blank" href="{{ $metaParams.external_links.rotten_tomatoes }}">RottenTomatoes</a></li>
							{{ end }}
							{{ if $metaParams.external_links.meta_critic }}
							<li><a target="_blank" href="{{ $metaParams.external_links.meta_critic }}">metacritic</a></li>
							{{ end }}

							{{ if $metaParams.external_links.wikipedia }}
							<li><a target="_blank" href="{{ $metaParams.external_links.wikipedia }}">Wikipedia</a></li>
							{{ end }}
							</ul>
						</div>
					</div>
				</div>
			{{ end }}
		</div>
	</div>
</div>
