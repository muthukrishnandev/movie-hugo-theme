
{{ $itemKind := singularize .Type  }}

<div class="page-list-item post-content {{ $itemKind }}">
  <h2 class="post-title {{ $itemKind }} {{ if and (.Params.Starred) (.Site.Params.Config.ShowStarredIcon) }}starred{{ end }}">
    <a href="{{ .Permalink }}">{{ .Title }}</a>
  </h2>
  <div class="post-meta {{ $itemKind }}">
    <span class="post-date">{{ .Date.Format "Jan 2, 2006" }}</span>

    {{ if .Params.tags }}
      <span class="post-taxonomies tags">
      {{ range $index, $tag := .Params.tags }}
        {{ $tagURL := (delimit (slice "tags" $tag) "/") }}
        {{ with $.Site.GetPage (printf "%s" $tagURL) }}
            <a class="post-taxonomy tag" href="{{ .Permalink }}">{{ $tag }}</a>
        {{ end }}
      {{ end }}
      </span>
    {{ end }}
  </div>

  {{ if .Site.Params.Config.ShowSummaryInPostList }}
    <div class="post-summary {{ $itemKind }}">
      {{ .Summary }}
    </div>
  {{ end }}
</div>
